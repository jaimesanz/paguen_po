{% extends "base.html" %}
{% load bootstrap3 %}
{% load humanize %}

{% block custom_head %}
	{% include "general/datatables.html" %}
{% endblock %}

{% block content_title %}{{vivienda_usuario.vivienda}}{% endblock %}
{% block content %}
	<h3>Presupuestos {{year}}-{{month}}</h3>
	<a href="/presupuestos/{{prev_year}}/{{prev_month}}" class="btn btn-primary" role="button">
		{% bootstrap_icon "chevron-left" %} Período Anterior
	</a>
	<a href="/presupuestos/{{next_year}}/{{next_month}}" class="btn btn-primary" role="button">
		Próximo período {% bootstrap_icon "chevron-right" %}
	</a>
	<a href="/graphs/presupuestos/{{year}}/{{month}}" class="btn btn-primary" role="button">
		{% bootstrap_icon "signal" %} Gráficos
	</a>
	<a href="/presupuestos/new/" class="btn btn-warning" role="button">
		{% bootstrap_icon "plus" %} Nuevo Presupuesto
	</a>
	<br>
	<br>
	<table id="tabla_presupuestos" class="table table-striped table-bordered" cellspacing="0" width="100%">
		<thead>
			<tr>
				<th>Categoría</th>
				<th>Presupuesto</th>
				<!-- <th>Real</th> -->
			</tr>
		</thead>
		<tbody>
			{% for p in presupuestos %}
			<tr>
				<a href="/presupuestos/{{p.year_month.year}}/{{p.year_month.month}}/{{p.categoria}}"><td>{{p.categoria}}</td></a>
				<td>$ {{p.monto|intcomma}}</td>
				<!-- <td>{{p.get}}</td> -->
			</tr>
			{% endfor %}
		</tbody>
	</table>

	<script type="text/javascript">
		$(document).ready(function(){
			$('#tabla_presupuestos').DataTable({
				paging: false,
				filter: false
			});
		});
	</script>
{% endblock %}