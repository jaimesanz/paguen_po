{% extends "base.html" %}
{% load bootstrap3 %}
{% load humanize %}

{% block custom_head %}
	{% include "general/datatables.html" %}
{% endblock %}

{% block content_title %}{{vivienda_usuario.vivienda}}{% endblock %}

{% block subtitle %}
    Presupuestos {{year}}-{{month}}
{% endblock %}

{% block buttons %}
    <a href="/presupuestos/{{prev_year}}/{{prev_month}}" class="btn btn-primary" role="button">
        {% bootstrap_icon "chevron-left" %} Anterior
    </a>
    <a href="/presupuestos/{{next_year}}/{{next_month}}" class="btn btn-primary" role="button">
        Siguiente {% bootstrap_icon "chevron-right" %}
    </a>
    <a href="/graphs/presupuestos/{{year}}/{{month}}" class="btn btn-primary" role="button">
        {% bootstrap_icon "signal" %} Gráficos
    </a>
    <a href="/presupuestos/new/" class="btn btn-warning" role="button">
        {% bootstrap_icon "plus" %} Nuevo
    </a>
{% endblock %}

{% block content %}
	<table id="tabla_presupuestos" class="table table-striped table-bordered" cellspacing="0" width="100%">
		<thead>
			<tr>
				<th>Categoría</th>
				<th>Presupuesto</th>
			</tr>
		</thead>
		<tbody>
			{% for p in presupuestos %}
			<tr>
				<td><a href="/presupuestos/{{p.year_month.year}}/{{p.year_month.month}}/{{p.categoria}}">{{p.categoria}}</a></td>
				<td>$ {{p.monto|intcomma}}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>

	<script type="text/javascript">
		$(document).ready(function(){
			$('#tabla_presupuestos').DataTable({
				filter: false
			});
		});
	</script>
{% endblock %}

{% block info_title %}
    Sobre los Presupuestos
{% endblock %}

{% block info_content %}
    En esta página puede ver los presupuesto definidos para este período.
    <br><br>
    Puede avanzar o retroceder a otro período utilizando los botónes
    "Anterior" y "Siguiente", o crear uno nuevo con el botón "Nuevo". El
    botón "Gráficos" le mostrará la misma información, pero de forma gráfica.
{% endblock %}